import { Suspense } from "react"
import Link from "next/link"

import { supabase } from "@/lib/supabase"
import { MainNav } from "@/components/main-nav"

import CartModal from "../cart/cart-modal"
import FridgeModal from "../fridge/fridge-modal"
import { StoreSelectorDialog } from "./store-selector"
import { UserNav } from "./user-nav"

export async function SiteHeader() {
  return (
    <header className="supports-backdrop-blur:bg-background/60 sticky top-0 z-40 w-full border-b bg-background/60 shadow-sm backdrop-blur">
      <div className="container flex h-16 items-center">
        <nav className="flex items-center space-x-6 w-full">
          <Link href="/">
            <svg
              width="108"
              height="28"
              viewBox="0 0 108 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.383 31.4951L9.68535 21.6619L13.5977 11.0594H22.5435L16.2933 20.5079L22.6866 31.4951H13.383ZM1.43133 31.4951V4.30353L0 3.43802V1.2021L7.65763 0H9.20824V31.4951H1.43133Z"
                fill="currentColor"
              />
              <path
                d="M23.5708 31.4951V15.9399L22.1394 15.0503V12.4778L27.2684 11.0594H31.2522V31.4951H23.5708ZM27.0298 8.84748L23.1175 4.88054V4.03907L27.0298 0.0961679H27.9363L32.0156 4.03907V4.88054L27.9363 8.84748H27.0298Z"
                fill="currentColor"
              />
              <path
                d="M40.1256 32C37.9786 32 36.4757 31.3509 35.6169 30.0526C34.774 28.7543 34.3525 26.5585 34.3525 23.4651V15.2908H32.7065V11.9489L35.5215 11.0594L37.9547 5.45755H42.1533V11.0594H46.0656V15.2908H42.0817V24.2344C42.0817 25.5167 42.2646 26.3661 42.6304 26.7829C42.9962 27.1996 43.5608 27.408 44.3242 27.408C44.6581 27.408 44.9603 27.3679 45.2307 27.2878C45.501 27.2076 45.7237 27.0954 45.8986 26.9512V30.2209C45.6601 30.4613 45.3499 30.7017 44.9683 30.9421C44.5866 31.1665 43.9504 31.3989 43.0598 31.6394C42.1851 31.8798 41.207 32 40.1256 32Z"
                fill="currentColor"
              />
              <path
                d="M64.1311 29.4996L63.9165 29.7641C63.7733 29.9244 63.5189 30.1327 63.1531 30.3892C62.8032 30.6296 62.3738 30.878 61.8649 31.1345C61.3719 31.3749 60.7039 31.5753 59.861 31.7355C59.034 31.9118 58.1434 32 57.1892 32C53.9607 32 51.4877 31.0463 49.7701 29.139C48.0684 27.2317 47.2176 24.7072 47.2176 21.5657C47.2176 19.8668 47.48 18.3201 48.0048 16.9256C48.5296 15.5312 49.2453 14.3772 50.1518 13.4636C51.0742 12.5339 52.1477 11.8207 53.3723 11.3238C54.6128 10.8109 55.9487 10.5545 57.38 10.5545C60.1473 10.5545 62.2943 11.2196 63.821 12.55C64.155 12.8865 64.322 13.0548 64.322 13.0548L63.9642 18.7047L60.5767 18.7288L59.2169 15.0503C59.0897 15.0183 58.9147 15.0023 58.6921 15.0023C57.2449 15.0023 56.2429 15.5071 55.6863 16.5169C55.1456 17.5106 54.8752 19.2417 54.8752 21.71C54.8752 22.7839 54.9627 23.7055 55.1376 24.4748C55.3126 25.2281 55.5113 25.7971 55.734 26.1818C55.9566 26.5505 56.2509 26.839 56.6167 27.0473C56.9983 27.2557 57.3085 27.3759 57.547 27.408C57.7856 27.44 58.0798 27.456 58.4297 27.456C59.2249 27.456 60.0359 27.3599 60.8629 27.1675C61.7058 26.9752 62.3976 26.6627 62.9384 26.2299L64.1311 29.4996Z"
                fill="currentColor"
              />
              <path
                d="M74.0877 31.4951H66.3585V4.30353L64.9271 3.43802V1.2021L72.5848 0H74.1354V14.1608L74.4216 13.8002C74.6125 13.5437 74.8908 13.2392 75.2566 12.8866C75.6383 12.5339 76.0597 12.1893 76.5209 11.8527C76.9821 11.5001 77.5308 11.2036 78.167 10.9632C78.819 10.7067 79.4552 10.5785 80.0754 10.5785C82.2542 10.5785 83.7889 11.1796 84.6795 12.3817C85.586 13.5838 86.0393 15.5953 86.0393 18.4162C86.0393 18.5124 86.0393 18.6566 86.0393 18.849C86.0234 19.0413 86.0154 19.1936 86.0154 19.3058V31.4951H78.1431V18.6086C78.1908 17.1019 77.5547 16.3486 76.2347 16.3486C76.1074 16.3486 75.9802 16.3566 75.853 16.3727C75.7417 16.3887 75.6224 16.4287 75.4951 16.4929C75.3679 16.557 75.2645 16.6051 75.185 16.6371C75.1214 16.6692 75.018 16.7333 74.8749 16.8295C74.7477 16.9256 74.6602 16.9897 74.6125 17.0218C74.5807 17.0538 74.4853 17.134 74.3262 17.2622C74.1831 17.3904 74.1036 17.4626 74.0877 17.4786V31.4951Z"
                fill="currentColor"
              />
              <path
                d="M100.652 28.2975C100.557 28.5219 100.358 28.8184 100.056 29.1871C99.7698 29.5557 99.3881 29.9644 98.911 30.4132C98.4339 30.846 97.8455 31.2146 97.1457 31.5192C96.446 31.8397 95.7383 32 95.0226 32C92.7802 32 91.1739 31.3268 90.2038 29.9805C89.2495 28.6341 88.7724 26.3902 88.7724 23.2487V14.6897L87.9375 13.8242V11.0594H96.5971V24.7633C96.5811 25.4846 96.7004 26.0215 96.9549 26.3742C97.2093 26.7107 97.6706 26.879 98.3385 26.879C98.4339 26.879 98.5214 26.879 98.6009 26.879C98.6804 26.863 98.76 26.847 98.8395 26.831C98.919 26.7989 98.9826 26.7749 99.0303 26.7588C99.0939 26.7428 99.1655 26.7188 99.245 26.6867C99.3245 26.6386 99.3881 26.5985 99.4359 26.5665C99.4836 26.5344 99.5472 26.4944 99.6267 26.4463C99.7062 26.3822 99.7619 26.3341 99.7937 26.302C99.8414 26.27 99.905 26.2219 99.9845 26.1578C100.08 26.0776 100.152 26.0215 100.199 25.9895V14.6897L98.911 13.8242V11.0594H108V31.4951H101.392L100.652 28.2975Z"
                fill="currentColor"
              />
            </svg>
          </Link>
        </nav>
      </div>
    </header>
  )
}
